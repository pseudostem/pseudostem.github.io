<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Total Battle Troop Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Calculate troop stacking and training costs for online RTS Total Battle to determine optimal allocation for spearmen, griffin, monster, mercenary and more to maximize rewards." />
  <link rel="canonical" href="https://www.pseudostem.com/" />
  <meta property="og:title" content="Fantasy Battle Builder" />
  <meta property="og:description" content="Calculate and optimize your troop stack for Total Battle." />
  <meta property="og:url" content="https://www.pseudostem.com/" />
  <meta property="og:type" content="website" />
  <meta name="copyright" content="This is an unofficial tool for Total Battle. Not affiliated with SCOREWARRIOR LIMITED." />
  <link rel="stylesheet" href="styles.css" />



  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>
<body>
<div class="container">
 <h1>Troop Calculator Debug</h1>
  <div class="layout-grid">
    <div class="left-side">

  <!-- üéØ Section 1: Leadership / Authority / Dominance -->
  <div class="filters-panel">
    <div class="vertical-form">
      <div class="input-group-inline">
        <label for="leadership">Leadership</label>
        <input type="number" id="leadership" value="1000" />
      </div>
      <div class="input-group-inline">
        <label for="authority">Authority</label>
        <input type="number" id="authority" value="1000" />
      </div>
      <div class="input-group-inline">
        <label for="dominance">Dominance</label>
        <input type="number" id="dominance" value="1000" />
      </div>
    </div>
  </div>

  <!-- üí∞ Section 2: Troop Cost Estimator -->
<div class="filters-panel">
  <div class="section-heading">
    <h3>Troop Cost Estimator</h3>
    <p>Input Rider II Cost per Troop to Estimate Training Costs</p>
  </div>

  <div class="vertical-form">
    <div class="input-group-inline">
      <label for="marches">
        Marches
        <span class="info-icon" data-tooltip="Number of marches with calculated army">‚ìò</span>
      </label>
      <input type="number" id="marches" value="1" min="1" />
    </div>

    <div class="input-group-inline">
      <label for="rider-cost">
        Cost
        <span class="info-icon" data-tooltip="Silver Cost per 1 Rider II">‚ìò</span>
      </label>
      <input type="text" id="rider-cost" value="455" />
    </div>

<div class="time-row">
  <div class="time-label">
    <label for="rider-minutes">Time</label>
    <span class="info-icon" data-tooltip="Training Cost per 1 Rider II">‚ìò</span>
  </div>
  <div class="time-inputs">
    <input type="text" id="rider-minutes" value="0" maxlength="2" />
    <span>m</span>
    <input type="text" id="rider-seconds" value="57" maxlength="2" />
    <span>s</span>
  </div>
</div>
    <div class="input-group-inline">
      <label for="training-cap">
        Training Limit
        <span class="info-icon" data-tooltip="Max number of Rider II you can train">‚ìò</span>
      </label>
      <input type="number" id="training-cap" value="500" />
    </div>
  </div>
</div>


  <!-- üõ°Ô∏è Section 3: Filters (unchanged) -->
      <div class="filters-panel">
        <div class="filter-group">
          <div class="filter-label" data-group="guard">Guardsmen</div>
          <div id="guard-type-filters"></div>
          <div id="guard-level-filters" class="level-buttons"></div>
        </div>
        <div class="filter-group">
          <div class="filter-label" data-group="spec">Specialists</div>
          <div id="spec-type-filters"></div>
          <div id="spec-level-filters" class="level-buttons"></div>
        </div>
        <div class="filter-group">
  <div class="filter-label" data-group="merc">Mercenaries</div>
  <div id="merc-type-filters"></div>
  <div id="merc-type2-filters"></div>

  <div class="level-row">
  <div id="merc-level-filters">
    <button class="level-btn">5</button>
    <button class="level-btn">6</button>
    <button class="level-btn">7</button>
    <button class="level-btn">9</button>
  </div>
  <label class="limit-toggle-label">
    <input type="checkbox" id="limit-by-authority" />
    Limit by authority
  </label>
</div>

</div>

        <div class="filter-group">
          <div class="filter-label" data-group="monster">Monsters</div>
          <div id="monster-type-filters"></div>
          <div id="monster-kind-filters"></div>
          <div id="monster-level-filters" class="level-buttons"></div>
        </div>
      </div>

    </div>

    <div class="right-side">
      <div class="bookkeeping">
        <h2>‚öîÔ∏è Squad Stats</h2>
        <div class="stat-grid">
          <div class="stat-block">
            <div class="stat"><span class="stat-label">Max Squad Health:</span><span class="stat-value" id="bk-max-health">‚Äì</span></div>
            <div class="stat"><span class="stat-label">Leading Squad:</span><span class="stat-value" id="bk-leading">‚Äì</span></div>
            <div class="stat"><span class="stat-label">Leadership Used:</span><span class="stat-value" id="bk-used">‚Äì</span></div>
            <div class="stat"><span class="stat-label">Leadership Left:</span><span class="stat-value" id="bk-left">‚Äì</span></div>
          </div>
          <div class="stat-block">
            <div class="stat"><span class="stat-label">Authority Used:</span><span class="stat-value" id="bk-auth-used">‚Äì</span></div>
            <div class="stat"><span class="stat-label">Authority Left:</span><span class="stat-value" id="bk-auth-left">‚Äì</span></div>
            <div class="stat"><span class="stat-label">Dominance Used:</span><span class="stat-value" id="bk-dom-used">‚Äì</span></div>
            <div class="stat"><span class="stat-label">Dominance Left:</span><span class="stat-value" id="bk-dom-left">‚Äì</span></div>
          </div>
        </div>
        <div class="stat"><span class="stat-label">Total Silver Cost:</span><span class="stat-value" id="bk-total-silver">‚Äì</span></div>
<div class="stat"><span class="stat-label">Training Time:</span><span class="stat-value" id="bk-total-time">‚Äì</span></div>
<div class="stat"><span class="stat-label">Speed-ups Needed:</span><span class="stat-value" id="bk-speedups">1d: ‚Äì  1h: ‚Äì  15m: ‚Äì</span></div>

      </div>

      <div class="results-grid">
        <div>
          <div id="guardsmen-results"></div>
          <div id="specialist-results"></div>
        </div>
        <div>
          <div id="mercenary-results"></div>
          <div id="monster-results"></div>
        </div>
      </div>
    </div>
  </div>

 <footer style="text-align: center; padding: 1rem; font-size: 0.8rem; color: #888;">
  <a href="#" onclick="document.getElementById('credits-modal').style.display='block'" style="color: #888; text-decoration: underline;">Icon Credits</a>
  <p style="font-size: 0.75rem; color: #777;">
  This tool is an unofficial fan-made application and is not affiliated with, endorsed by, or sponsored by SCOREWARRIOR LIMITED or the Total Battle game. All trademarks and game content are the property of their respective owners.
</p>

</footer>

<!-- Hidden Modal -->
<div id="credits-modal" style="display: none; position: fixed; top: 10%; left: 50%; transform: translateX(-50%); background: #1a1a1a; color: #ccc; padding: 1.5rem; border-radius: 8px; max-width: 400px; z-index: 1000;">
  <h3 style="margin-top: 0;">Icon Credits</h3>
  <ul style="list-style: none; padding-left: 0; font-size: 0.85rem;">
    <li>Squid ‚Äî <a href="https://www.svgrepo.com/page/licensing/#CC0" target="_blank">SVGRepo (CC0)</a></li>
    <li>Dragon ‚Äî <a href="https://www.svgrepo.com/page/licensing/#CC%20Attribution" target="_blank">vectordoodle (CC Attribution)</a></li>
    <li>Bow ‚Äî <a href="https://www.svgrepo.com/page/licensing/#CC0" target="_blank">SVGRepo (CC0)</a></li>
    <li>Target ‚Äî <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">Lima Studio (CC BY 3.0)</a></li>
    <li>Guard Shield ‚Äî <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">Paomedia (CC BY 3.0)</a></li>
    <li>Merc Shield ‚Äî <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">Paomedia (CC BY 3.0)</a></li>
    <li>Monster ‚Äî <a href="https://www.iconfinder.com/Icojam" target="_blank">Icojam (Iconfinder)</a></li>
  </ul>
  <button onclick="document.getElementById('credits-modal').style.display='none'" style="margin-top: 1rem; background: #333; color: #ccc; border: none; padding: 0.5rem 1rem; border-radius: 4px;">Close</button>
</div>

<footer style="text-align: center; font-size: 0.8rem; color: #777;">
  ¬© 2025 Pseudostem. All rights reserved.
</footer>



</div>

  <script src="troops.js"></script>
  <script src="icons.js"></script>
  <script src="app.js"></script>

</body>
</html>
